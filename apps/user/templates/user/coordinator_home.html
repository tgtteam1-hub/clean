{% extends 'backend/base.html' %}
{% load static %}
{% block content %}
<h4 class='mb-4'>Coordinator Dashboard</h4>

    <section class="section dashboard">
      <div class="row">

        <!-- Left side columns -->
        <div class="col-lg-8">
          <div class="row">

            <!-- Sales Card -->
            <div class="col-xxl-4 col-md-6">
              <div class="card info-card sales-card">

                <!-- <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>

                    <li><a class="dropdown-item" href="#">Today</a></li>
                    <li><a class="dropdown-item" href="#">This Month</a></li>
                    <li><a class="dropdown-item" href="#">This Year</a></li>
                  </ul>
                </div>
 -->
                <div class="card-body">
                  <h5 class="card-title"><a href="{% url 'user_home' %}">Watchers</a></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-people-fill"></i>
                    </div>
                    <div class="ps-3">
                      <h6><a href="{% url 'user_home' %}">{{ user_count_total }}</a></h6>
                      <span class="text-success small pt-1 fw-bold">{{ user_count_new_this_month }}</span> <span class="text-muted small pt-2 ps-1">Newly added in this month</span>

                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Sales Card -->

            <!-- Incident count -->
            <div class="col-xxl-4 col-md-6">
              <div class="card info-card revenue-card">
                <div class="card-body">
                  <h5 class="card-title"><a href="{% url 'incident_home' %}">Incidents</a>
                    <!-- <span>| This Month</span> -->
                  </h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-binoculars"></i>
                    </div>
                    <div class="ps-3">
                      <h6><a href="{% url 'incident_home' %}">{{ incident_count_total }}</a></h6>
                      <a href="/incident/?type=3">
                          <span class="text-success small pt-1 fw-bold">
                                {{ incident_count_emergency }}
                          </span>
                          <span class="text-muted small pt-2 ps-1">Emergency</span>
                      </a>
                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Incident Card -->

            <!-- Customers Card -->
<!--             <div class="col-xxl-4 col-xl-12">

              <div class="card info-card customers-card">

                <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>

                    <li><a class="dropdown-item" href="#">Today</a></li>
                    <li><a class="dropdown-item" href="#">This Month</a></li>
                    <li><a class="dropdown-item" href="#">This Year</a></li>
                  </ul>
                </div>

                <div class="card-body">
                  <h5 class="card-title">Customers <span>| This Year</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-people"></i>
                    </div>
                    <div class="ps-3">
                      <h6>1244</h6>
                      <span class="text-danger small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">decrease</span>

                    </div>
                  </div>

                </div>
              </div>

            </div> --><!-- End Customers Card -->



            <!-- Top watchers by report count -->
             <div class="col-12 col-md-6">
              <div class="card top-selling overflow-auto">

                <!-- <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>

                    <li><a class="dropdown-item" href="#">Today</a></li>
                    <li><a class="dropdown-item" href="#">This Month</a></li>
                    <li><a class="dropdown-item" href="#">This Year</a></li>
                  </ul>
                </div> -->

                <div class="card-body pb-0">
                  <h5 class="card-title">Top Watchers <span>| By report count</span></h5>

                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <!-- <th scope="col">Preview</th> -->
                        <th scope="col">ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Count</th>
                        <!-- <th scope="col">Revenue</th> -->
                      </tr>
                    </thead>
                    <tbody>
                      {% for watcher in top_watcher_by_report_count %}
                        <tr>
                          <td><a href="{% url 'user_detail' watcher.noter_id %}">{{ watcher.noter_id }}</a></td>
                          <td><a href="{% url 'user_detail' watcher.noter_id %}" class="text-primary fw-bold">{{ watcher.noter_name }}</a></td>
                          <td class="fw-bold">
                            <a href="{% url 'incident_home' %}?noter_id={{ watcher.noter_id }}">
                              {{ watcher.count }}
                            </a>
                          </td>
                        </tr>
                      {% endfor %}
                      <!-- <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-1.jpg" alt=""></a></th>
                        <td>1</td>
                        <td><a href="#" class="text-primary fw-bold">Ravya</a></td>
                        <td class="fw-bold">23</td>
                        <td>23</td>
                      </tr> -->
                      <!-- <tr>
                        <th scope="row"><a href="#"><img src="{% static 'ui_theme/assets/img/product-5.jpg' %}" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Sit unde debitis delectus repellendus</a></td>
                        <td>$79</td>
                        <td class="fw-bold">41</td>
                        <td>$3,239</td>
                      </tr> -->
                    </tbody>
                  </table>

                </div>

              </div>
            </div> <!-- End top watchers by report count -->

            <!-- Incident type wise count  -->
             <div class="col-12 col-md-6">
              <div class="card top-selling overflow-auto">

                <div class="card-body pb-0">
                  <h5 class="card-title">Incident Typewise Count</h5>

                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col">Type</th>
                        <th scope="col">Count</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for type in top_incident_type_by_report_count %}
                        <tr>
                          <td class="fw-bold">
                            <a href="{% url 'incident_home' %}?type={{ type.type }}" class="text-primary fw-bold">
                            {{ type.type_value }}
                            </a>
                        </td>
                          <td>
                            <a href="{% url 'incident_home' %}?type={{ type.type }}">
                              <strong>{{ type.count }}</strong>
                            </a>
                          </td>
                        </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div> <!-- End Incident type wise count -->

            <!-- Species by report count -->
             <div class="col-12 col-md-6">
              <div class="card top-selling overflow-auto">

                <div class="card-body pb-0">
                  <h5 class="card-title">Specieswise Count</h5>
                    <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col">Species</th>
                        <th scope="col">Count</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for name, count in species_by_report_count.items %}
                        <tr>
                          <td class="fw-bold">
                            <a href="{% url 'incident_home' %}?animal={{ name }}" class="text-primary fw-bold">
                              {{ name }}
                            </a>
                          </td>
                          <td>
                            <a href="{% url 'incident_home' %}?animal={{ name }}">
                              <strong>{{ count }}</strong>
                            </a>
                          </td>
                        </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div> <!-- End Species wise count -->

          </div>
        </div><!-- End Left side columns -->

        <!-- Right side columns -->
        <div class="col-lg-4">


          <!-- Budget Report -->
<!--           <div class="card">
            <div class="filter">
              <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <li class="dropdown-header text-start">
                  <h6>Filter</h6>
                </li>

                <li><a class="dropdown-item" href="#">Today</a></li>
                <li><a class="dropdown-item" href="#">This Month</a></li>
                <li><a class="dropdown-item" href="#">This Year</a></li>
              </ul>
            </div>

            <div class="card-body pb-0">
              <h5 class="card-title">Budget Report <span>| This Month</span></h5>

              <div id="budgetChart" style="min-height: 400px;" class="echart"></div>

              <script>
                document.addEventListener("DOMContentLoaded", () => {
                  var budgetChart = echarts.init(document.querySelector("#budgetChart")).setOption({
                    legend: {
                      data: ['Allocated Budget', 'Actual Spending']
                    },
                    radar: {
                      // shape: 'circle',
                      indicator: [{
                          name: 'Sales',
                          max: 6500
                        },
                        {
                          name: 'Administration',
                          max: 16000
                        },
                        {
                          name: 'Information Technology',
                          max: 30000
                        },
                        {
                          name: 'Customer Support',
                          max: 38000
                        },
                        {
                          name: 'Development',
                          max: 52000
                        },
                        {
                          name: 'Marketing',
                          max: 25000
                        }
                      ]
                    },
                    series: [{
                      name: 'Budget vs spending',
                      type: 'radar',
                      data: [{
                          value: [4200, 3000, 20000, 35000, 50000, 18000],
                          name: 'Allocated Budget'
                        },
                        {
                          value: [5000, 14000, 28000, 26000, 42000, 21000],
                          name: 'Actual Spending'
                        }
                      ]
                    }]
                  });
                });
              </script>

            </div>
          </div> --><!-- End Budget Report -->


          <!-- News & Updates Traffic -->
<!--           <div class="card">
            <div class="filter">
              <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <li class="dropdown-header text-start">
                  <h6>Filter</h6>
                </li>

                <li><a class="dropdown-item" href="#">Today</a></li>
                <li><a class="dropdown-item" href="#">This Month</a></li>
                <li><a class="dropdown-item" href="#">This Year</a></li>
              </ul>
            </div>

            <div class="card-body pb-0">
              <h5 class="card-title">News &amp; Updates <span>| Today</span></h5>

              <div class="news">
                <div class="post-item clearfix">
                  <img src="{% static 'ui_theme/assets/img/news-1.jpg' %}" alt="">
                  <h4><a href="#">Nihil blanditiis at in nihil autem</a></h4>
                  <p>Sit recusandae non aspernatur laboriosam. Quia enim eligendi sed ut harum...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="{% static 'ui_theme/assets/img/news-2.jpg' %}" alt="">
                  <h4><a href="#">Quidem autem et impedit</a></h4>
                  <p>Illo nemo neque maiores vitae officiis cum eum turos elan dries werona nande...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="{% static 'ui_theme/assets/img/news-3.jpg' %}" alt="">
                  <h4><a href="#">Id quia et et ut maxime similique occaecati ut</a></h4>
                  <p>Fugiat voluptas vero eaque accusantium eos. Consequuntur sed ipsam et totam...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="{% static 'ui_theme/assets/img/news-4.jpg' %}" alt="">
                  <h4><a href="#">Laborum corporis quo dara net para</a></h4>
                  <p>Qui enim quia optio. Eligendi aut asperiores enim repellendusvel rerum cuder...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="{% static 'ui_theme/assets/img/news-5.jpg' %}" alt="">
                  <h4><a href="#">Et dolores corrupti quae illo quod dolor</a></h4>
                  <p>Odit ut eveniet modi reiciendis. Atque cupiditate libero beatae dignissimos eius...</p>
                </div>

              </div> --><!-- End sidebar recent posts-->

            </div>
          </div><!-- End News & Updates -->

        </div><!-- End Right side columns -->

      </div>
    </section>


{% endblock content %}
